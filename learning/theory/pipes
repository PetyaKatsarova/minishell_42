In a pipeline, every command runs in a subshell â€” including built-ins.
Built-ins are still built-in,
But when used in a pipe, they are run in a child shell (a subprocess),
So any side effect (like cd, export, unset) is lost after execution.

 in Bash, when a built-in is part of a pipeline, it always runs in a child process, and thus:

!!nb!!
=====================================================
              -- 1 ----
Any side effect (like cd, export, exit, unset) is completely lost.
================================================================

cd /tmp | echo hi | pwd
cd /tmp: runs in a subshell, changes dir only there
pwd: still shows the original directory

exit | echo hello
exit: exits the child only
echo: still runs, shell stays open

export TEST=hi | env | grep TEST
TEST is not visible â€” set only in subshell, lost

In every case, when a built-in is run in a pipeline, its effects are:
Executed in a subprocess
Not visible to the parent shell
Thatâ€™s expected and correct Bash behavior

=============================================================================
         -- 2 --
=============================================================================
bla | pwd
/mnt/...
bash: bla: command not found
Why does pwd print first?

ğŸ”¹ Bash executes pipeline commands in parallel, but handles their output order based on:
What each command prints
Which stream is used (stdout or stderr)
ğŸ”¹ Key details:
pwd prints to stdout
bash: bla: command not found is printed to stderr
ğŸ”¹ stdout is usually line-buffered
stderr is unbuffered
pwd writes its output and gets flushed immediately (or early due to newline)
bash prints the command not found after trying to exec bla
===================================

ğŸ” pwd | exit in Bash:
Both pwd and exit are in a pipeline â†’ each runs in its own child process

pwd prints the path.

exit runs in its own child, and exits only that subprocess, not the parent shell.

âœ… The shell stays open.

exit in a pipeline â†’ executed in a child â†’ does not close the shell

exit alone â†’ executed in the parent â†’ closes the shell


